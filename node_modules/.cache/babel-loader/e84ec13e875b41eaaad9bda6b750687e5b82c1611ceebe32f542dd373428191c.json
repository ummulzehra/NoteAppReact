{"ast":null,"code":"import React from\"react\";import\"../styles/NoteView.Module.css\";import NoteHeader from\"./NoteHeader\";import Input from\"./Input\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NoteView=_ref=>{let{name,color,id,isMobile,display,setDisplay}=_ref;const[notes,setNotes]=React.useState([]);const[groupId,setGroupId]=React.useState(\"\");const[newNote,setNewNote]=React.useState({});const[searchQuery,setSearchQuery]=React.useState(\"\");React.useEffect(()=>{const noteGroups=JSON.parse(localStorage.getItem(\"noteGroups\"));const groupIndex=noteGroups.findIndex(group=>group.id===id);if(groupIndex===-1){console.error(`Group with ID ${id} not found`);return;}const group=noteGroups[groupIndex];setGroupId(group.id);setNotes(group.notes||[]);},[id,newNote]);const handleNewNote=value=>{setNewNote(value);setNotes([...notes,value]);};// Function to format the date\nconst formatDate=dateStr=>{const options={day:'numeric',month:'short',year:'numeric'};const date=new Date(dateStr);return new Intl.DateTimeFormat('en-GB',options).format(date);};// Share individual note\nconst shareNote=note=>{const shareData={title:'Note',text:note.content,url:window.location.href};if(navigator.share){navigator.share(shareData).catch(console.error);}else{console.log(\"Share API not supported\");}};// Share entire group of notes\nconst shareGroup=()=>{const notesContent=notes.map(note=>note.content).join('\\n\\n');const shareData={title:'Notes Group',text:notesContent,url:window.location.href};if(navigator.share){navigator.share(shareData).catch(console.error);}else{console.log(\"Share API not supported\");}};// Export notes as a text file\nconst exportNotesAsFile=()=>{const notesContent=notes.map(note=>note.content).join('\\n\\n');const blob=new Blob([notesContent],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='notes.txt';a.click();URL.revokeObjectURL(url);};// Filter notes based on search query\nconst filteredNotes=notes.filter(note=>note.content.toLowerCase().includes(searchQuery.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"note-view-container\",style:{display:isMobile&&!display?\"none\":\"\"},children:[/*#__PURE__*/_jsx(NoteHeader,{name:name,color:color,isMobile:isMobile,display:display,setDisplay:setDisplay}),/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search notes...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"search-input\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:shareGroup,className:\"share-group-button\",children:\"Share Group\"}),/*#__PURE__*/_jsx(\"button\",{onClick:exportNotesAsFile,className:\"export-group-button\",children:\"Export Group as File\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"notes-list\",children:[groupId===id&&filteredNotes.length>0&&filteredNotes.map((note,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"note-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"note-content\",children:note.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-date-time\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"note-date\",children:formatDate(note.date)}),/*#__PURE__*/_jsx(\"span\",{className:\"bullet\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"note-time\",children:note.time})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareNote(note),className:\"share-note-button\",children:\"Share Note\"})]})]},index)),groupId===id&&filteredNotes.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"example-txt\",children:\"No notes found matching your search!\"}),notes.length<=0&&/*#__PURE__*/_jsx(\"p\",{className:\"example-txt\",children:\"Start Writing Notes Here!\"})]}),/*#__PURE__*/_jsx(Input,{id:id,handleNewNote:handleNewNote})]});};export default NoteView;","map":{"version":3,"names":["React","NoteHeader","Input","jsx","_jsx","jsxs","_jsxs","NoteView","_ref","name","color","id","isMobile","display","setDisplay","notes","setNotes","useState","groupId","setGroupId","newNote","setNewNote","searchQuery","setSearchQuery","useEffect","noteGroups","JSON","parse","localStorage","getItem","groupIndex","findIndex","group","console","error","handleNewNote","value","formatDate","dateStr","options","day","month","year","date","Date","Intl","DateTimeFormat","format","shareNote","note","shareData","title","text","content","url","window","location","href","navigator","share","catch","log","shareGroup","notesContent","map","join","exportNotesAsFile","blob","Blob","type","URL","createObjectURL","a","document","createElement","download","click","revokeObjectURL","filteredNotes","filter","toLowerCase","includes","className","style","children","placeholder","onChange","e","target","onClick","length","index","time"],"sources":["D:/HTML Projects/NoteAppReact/src/components/NoteView.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"../styles/NoteView.Module.css\";\r\nimport NoteHeader from \"./NoteHeader\";\r\nimport Input from \"./Input\";\r\n\r\nconst NoteView = ({ name, color, id, isMobile, display, setDisplay }) => {\r\n  const [notes, setNotes] = React.useState([]);\r\n  const [groupId, setGroupId] = React.useState(\"\");\r\n  const [newNote, setNewNote] = React.useState({});\r\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    const noteGroups = JSON.parse(localStorage.getItem(\"noteGroups\"));\r\n    const groupIndex = noteGroups.findIndex((group) => group.id === id);\r\n    if (groupIndex === -1) {\r\n      console.error(`Group with ID ${id} not found`);\r\n      return;\r\n    }\r\n    const group = noteGroups[groupIndex];\r\n    setGroupId(group.id);\r\n    setNotes(group.notes || []);\r\n  }, [id, newNote]);\r\n\r\n  const handleNewNote = (value) => {\r\n    setNewNote(value);\r\n    setNotes([...notes, value]);\r\n  };\r\n\r\n  // Function to format the date\r\n  const formatDate = (dateStr) => {\r\n    const options = { day: 'numeric', month: 'short', year: 'numeric' };\r\n    const date = new Date(dateStr);\r\n    return new Intl.DateTimeFormat('en-GB', options).format(date);\r\n  };\r\n\r\n  // Share individual note\r\n  const shareNote = (note) => {\r\n    const shareData = {\r\n      title: 'Note',\r\n      text: note.content,\r\n      url: window.location.href\r\n    };\r\n    if (navigator.share) {\r\n      navigator.share(shareData).catch(console.error);\r\n    } else {\r\n      console.log(\"Share API not supported\");\r\n    }\r\n  };\r\n\r\n  // Share entire group of notes\r\n  const shareGroup = () => {\r\n    const notesContent = notes.map(note => note.content).join('\\n\\n');\r\n    const shareData = {\r\n      title: 'Notes Group',\r\n      text: notesContent,\r\n      url: window.location.href\r\n    };\r\n    if (navigator.share) {\r\n      navigator.share(shareData).catch(console.error);\r\n    } else {\r\n      console.log(\"Share API not supported\");\r\n    }\r\n  };\r\n\r\n  // Export notes as a text file\r\n  const exportNotesAsFile = () => {\r\n    const notesContent = notes.map(note => note.content).join('\\n\\n');\r\n    const blob = new Blob([notesContent], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'notes.txt';\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  // Filter notes based on search query\r\n  const filteredNotes = notes.filter(note =>\r\n    note.content.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className=\"note-view-container\"\r\n      style={{ display: isMobile && !display ? \"none\" : \"\" }}\r\n    >\r\n      <NoteHeader\r\n        name={name}\r\n        color={color}\r\n        isMobile={isMobile}\r\n        display={display}\r\n        setDisplay={setDisplay}\r\n      />\r\n      <div className=\"search-container\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search notes...\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          className=\"search-input\"\r\n        />\r\n      </div>\r\n      <button onClick={shareGroup} className=\"share-group-button\">Share Group</button>\r\n      <button onClick={exportNotesAsFile} className=\"export-group-button\">Export Group as File</button>\r\n      <div className=\"notes-list\">\r\n        {groupId === id &&\r\n          filteredNotes.length > 0 &&\r\n          filteredNotes.map((note, index) => (\r\n            <div className=\"note-box\" key={index}>\r\n              <div className=\"note-content\">{note.content}</div>\r\n              <div className=\"note-footer\">\r\n                <div className=\"note-date-time\">\r\n                  <span className=\"note-date\">{formatDate(note.date)}</span>\r\n                  <span className=\"bullet\">â€¢</span>\r\n                  <span className=\"note-time\">{note.time}</span>\r\n                </div>\r\n                <button onClick={() => shareNote(note)} className=\"share-note-button\">Share Note</button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        {groupId === id && filteredNotes.length === 0 && (\r\n          <p className=\"example-txt\">No notes found matching your search!</p>\r\n        )}\r\n        {notes.length <= 0 && (\r\n          <p className=\"example-txt\">Start Writing Notes Here!</p>\r\n        )}\r\n      </div>\r\n      <Input id={id} handleNewNote={handleNewNote} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}